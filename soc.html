<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Axentra SOC</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:700,400" rel="stylesheet">
    <style>
        body {
            margin: 0;
            background: #101b2a;
            font-family: 'Montserrat', Arial, sans-serif;
            color: #fff;
        }
        .container {
            display: flex;
            height: 100vh;
        }
        .sidebar {
            background: #19233a;
            min-width: 240px;
            max-width: 260px;
            padding: 0 0 0 0;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        .sidebar h1 {
            font-size: 2.5rem;
            margin: 36px 0 0 32px;
            color: #ffe120;
            line-height: 1.1;
            letter-spacing: 1px;
        }
        .sidebar nav {
            margin-top: 30px;
            width: 100%;
        }
        .sidebar nav button {
            width: 100%;
            padding: 18px 30px;
            background: none;
            border: none;
            outline: none;
            text-align: left;
            color: #fff;
            font-size: 1.18rem;
            font-family: inherit;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.14s;
            letter-spacing: 0.5px;
        }
        .sidebar nav button.active, .sidebar nav button:hover {
            background: #212c41;
            color: #ffe120;
        }
        .logout-btn {
            background: #ffe120;
            border: none;
            font-family: inherit;
            font-weight: bold;
            font-size: 1.15rem;
            color: #111;
            width: 180px;
            padding: 16px 0;
            border-radius: 20px;
            margin: auto 0 34px 30px;
            cursor: pointer;
            box-shadow: 0 3px 18px #ffe12047;
            transition: background .2s, box-shadow .2s;
        }
        .logout-btn:hover {
            background: #fff350;
            box-shadow: 0 5px 20px #ffe1207b;
        }
        .main-content {
            flex: 1;
            background: url('https://i.imgur.com/qpuk3nD.jpg') repeat;
            min-width: 0;
            padding: 0;
        }
        .main-panel {
            margin: 42px 56px;
            padding: 18px 32px 30px 32px;
            background: #232b39ec;
            border-radius: 35px;
            box-shadow: 0 0 42px #0004;
        }
        .title {
            font-size: 2.1rem;
            color: #ffe120;
            margin: 8px 0 24px 0;
            font-weight: 700;
        }
        .section {
            margin-bottom: 32px;
        }
        .summary-list, .users-table {
            margin: 18px 0 0 0;
            font-size: 1.09rem;
            color: #ffe120;
        }
        .summary-list li {
            margin-bottom: 7px;
            color: #fff;
        }
        .incident-table, .users-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
            background: none;
        }
        .incident-table th, .incident-table td,
        .users-table th, .users-table td {
            padding: 10px 12px;
            font-size: 1.05rem;
            text-align: left;
        }
        .incident-table th, .users-table th {
            color: #ffe120;
            font-weight: 700;
            border-bottom: 2px solid #334;
        }
        .incident-table td, .users-table td {
            color: #fff;
            border-bottom: 1px solid #223044;
        }
        .incident-alert {
            background: #ffe120;
            color: #232b39;
            font-weight: bold;
            padding: 14px 18px;
            border-radius: 18px;
            margin-bottom: 24px;
            font-size: 1.14rem;
        }
        .map-legend {
            margin-top: 22px;
            font-size: 1.09rem;
        }
        .map-legend b { font-weight: bold; }
        .map-legend .red { color: #ff4b5c; font-weight: bold;}
        .map-legend .orange { color: #ffad1f; font-weight: bold;}
        .map-legend .yellow { color: #ffe120; font-weight: bold;}
        .map-legend .blue { color: #36adff; font-weight: bold;}
        .download-link {
            color: #a1e;
            font-weight: 500;
        }
        @media (max-width: 1100px) {
            .main-panel { margin: 14px 5vw; }
        }
        @media (max-width: 650px) {
            .sidebar { min-width: 115px; max-width: 145px;}
            .sidebar h1 { font-size: 1.25rem; margin-left: 8px;}
            .logout-btn { font-size: .96rem; width: 90px; margin-left: 7px;}
        }
    </style>
    <!-- Globe.gl - Threat Map Library -->
    <script src="https://unpkg.com/globe.gl"></script>
</head>
<body>
<div class="container">
    <div class="sidebar">
        <h1>Axentra<br>SOC</h1>
        <nav>
            <button id="tab-dashboard" class="active" onclick="showTab('dashboard')">Dashboard</button>
            <button id="tab-incidents" onclick="showTab('incidents')">Incidents</button>
            <button id="tab-threatmap" onclick="showTab('threatmap')">Threat Map</button>
            <button id="tab-users" onclick="showTab('users')">Users</button>
            <button id="tab-forensics" onclick="showTab('forensics')">Forensics</button>
        </nav>
        <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
    <div class="main-content">
        <div class="main-panel" id="main-panel">
            <!-- Dynamic Content Here -->
        </div>
    </div>
</div>
<script>
const content = {
    dashboard: `
    <div class="section">
      <div class="title">Welcome to Axentra SOC</div>
      <div>Real-time threat monitoring.<br>
        <b>Active Incidents:</b> 3<br>
        <b>Live Users:</b> 22<br>
        <b>Last Attack:</b> 12 min ago (SQL Injection)
      </div>
    </div>
    <div class="section">
      <div class="title">Summary</div>
      <ul class="summary-list">
        <li>99.9% Uptime</li>
        <li>AI-driven threat detection</li>
        <li>Automatic response to critical events</li>
      </ul>
    </div>`,
    incidents: `
    <div class="incident-alert">3 new incidents detected in the past hour!</div>
    <div class="title">Incident Log</div>
    <table class="incident-table">
      <tr><th>Time</th><th>Type</th><th>Status</th></tr>
      <tr><td>09:41</td><td>Phishing Attempt</td><td>Blocked</td></tr>
      <tr><td>09:17</td><td>SQL Injection</td><td>Mitigated</td></tr>
      <tr><td>08:55</td><td>DDoS</td><td>Under Investigation</td></tr>
    </table>`,
    threatmap: `
    <div class="title">Threat Map</div>
    <div id="globeViz" style="width:100%; height:400px; margin: 0 auto 8px auto;"></div>
    <div class="map-legend">
        <span class="red">Red:</span> Active attacks
        <span class="orange" style="margin-left:22px;">Orange:</span> Recent attempts
        <span class="yellow" style="margin-left:22px;">Yellow:</span> Suspicious activity
    </div>`,
    users: `
    <div class="title">Users & Roles</div>
    <table class="users-table">
      <tr><th>User</th><th>Role</th><th>Status</th></tr>
      <tr><td>admin@paypal.com</td><td>Admin</td><td>Active</td></tr>
      <tr><td>j.doe@paypal.com</td><td>Analyst</td><td>Active</td></tr>
      <tr><td>s.eco@paypal.com</td><td>Read-Only</td><td>Inactive</td></tr>
    </table>`,
    forensics: `
    <div class="title">Forensics</div>
    <ul class="summary-list">
      <li>Full packet capture available for past 72h</li>
      <li>Malware sandboxing (automated)</li>
      <li>Download last report: <a href="#" class="download-link" onclick="downloadPDF(event)">PDF</a></li>
    </ul>`
};

function showTab(tab) {
    // Highlight tab
    document.querySelectorAll('.sidebar nav button').forEach(b=>b.classList.remove('active'));
    document.getElementById('tab-'+tab).classList.add('active');
    // Render content
    document.getElementById('main-panel').innerHTML = content[tab];
    if(tab === 'threatmap') loadGlobe();
}
function logout() {
    alert("You have been logged out.");
}
function downloadPDF(e){
    e.preventDefault();
    // Fake PDF (download as blob)
    const pdfContent = 'Axentra SOC - Forensics Report\n\nStatus: Clean\nDate: ' + (new Date()).toLocaleString();
    const blob = new Blob([pdfContent], {type: 'application/pdf'});
    const link = document.createElement('a');
    link.href = window.URL.createObjectURL(blob);
    link.download = 'forensics_report.pdf';
    link.click();
}

// Render first tab
showTab('dashboard');

function loadGlobe() {
    // Remove old globe
    document.getElementById('globeViz').innerHTML = '';
    const g = Globe()
        .globeImageUrl('//unpkg.com/three-globe/example/img/earth-dark.jpg')
        .backgroundColor('rgba(0,0,0,0)')
        .showAtmosphere(true)
        .atmosphereColor('#ffe120')
        .atmosphereAltitude(0.18)
        .width(document.getElementById('globeViz').offsetWidth)
        .height(400)
        (document.getElementById('globeViz'));

    // Countries by ISO (dummy data)
    const data = [
        { country: "China", code: "CHN", status: "Active attacks", color: "#ff4b5c" },
        { country: "Russia", code: "RUS", status: "Active attacks", color: "#ff4b5c" },
        { country: "Ukraine", code: "UKR", status: "Suspicious activity", color: "#ffe120" },
        { country: "US", code: "USA", status: "Recent attempts", color: "#ffad1f" },
        { country: "Brazil", code: "BRA", status: "Recent attempts", color: "#ffad1f" }
    ];

    fetch('https://unpkg.com/world-atlas/countries-110m.json').then(res=>res.json()).then(countries=>{
        const countriesData = window.topojson.feature(countries, countries.objects.countries).features;
        g.polygonsData(countriesData)
            .polygonAltitude(0.09)
            .polygonCapColor(d => {
                const found = data.find(x => x.code === d.id || x.code === d.properties.iso_a3);
                return found ? found.color : "rgba(120,180,220,0.09)";
            })
            .polygonSideColor(()=>"#111a")
            .polygonStrokeColor(()=>"#222a")
            .onPolygonHover(hoverD => g
                .polygonAltitude(d => d === hoverD ? 0.15 : 0.09)
            )
            .polygonsTransitionDuration(300)
            .onPolygonClick(d=>{
                const found = data.find(x => x.code === d.id || x.code === d.properties.iso_a3);
                if(found) alert(found.country+": "+found.status);
            })
            .polygonLabel(d=>{
                const found = data.find(x => x.code === d.id || x.code === d.properties.iso_a3);
                return found
                    ? `<div style="font-weight:bold;font-size:1.2em;color:${found.color};">${found.country}</div>
                       <div>${found.status}</div>`
                    : `<div style="font-weight:bold;">${d.properties.name}</div>`;
            });
    });
}
// Load topojson (required for Globe)
(function(){
    var s=document.createElement("script");
    s.src="https://unpkg.com/topojson@3";
    document.head.appendChild(s);
})();
</script>
</body>
</html>
